---
permalink: howto/creating-a-query-to-identify-netapp-root-aggregates.html 
sidebar: sidebar 
keywords:  
summary: クエリは、ユーザが選択した条件に基づいて、細かいレベルまで検索する機能です。クエリを使用すると、ネットアップのルートアグリゲートが含まれている環境内の内部ボリュームを検索できます。 
---
= 環境内でネットアップのルートアグリゲートを特定するクエリの作成
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クエリは、ユーザが選択した条件に基づいて、細かいレベルまで検索する機能です。クエリを使用すると、ネットアップのルートアグリゲートが含まれている環境内の内部ボリュームを検索できます。



== 手順

. OnCommand Insight Web UIで、環境内のネットアップのルートアグリゲートを特定するクエリを作成します。*[Queries]*>*[New Query]*>*[Select Resource Type]*
. [ストレージプール]*をクリックします
. ルートアグリゲートの名前を入力します
+
この例では、名前に「aggr0」を使用しています。アグリゲートの作成時には、次の要件に従って名前を指定する必要があります。

+
** 先頭の文字にはアルファベットまたはアンダースコア（ _ ）を使用する必要があります。
** アルファベット、数字、アンダースコアのみを使用できます。
** 250 文字以内で指定します。アグリゲートの名前は通常、 aggr0 、 aggr_0 などの形式にします。環境内のネットアップのルートアグリゲートをすべて特定するには、反復的なプロセスが必要となる場合があります。


. [ 保存（ Save ） ] をクリックし、新しい照会の名前を入力する。
+
前述のとおり、この作業は反復的なプロセスになる場合があり、ネットアップのすべてのルートアグリゲートを特定するために複数のクエリが必要になることがあります。


