---
permalink: howto/querying-and-annotating-data-centers.html 
sidebar: sidebar 
keywords:  
summary: クエリを使用して、環境内の適切なアセットにアノテーションを関連付けます。この例では、選択したアセットにデータセンターのアノテーションを関連付けます。 
---
= クエリを実行してデータセンターにアノテーションを適用します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クエリを使用して、環境内の適切なアセットにアノテーションを関連付けます。この例では、選択したアセットにデータセンターのアノテーションを関連付けます。

Insightでは、データソースの取得時に、検出した各アセットの名前（その他の情報を含む）が収集されます。この例では、すべてのストレージアレイに、格納されているデータセンターに基づいて名前が付けられていることを前提としています（サニーベールにあるアレイの場合は「<label> 」など）。Insightのクエリを使用すると、アセットへのアノテーションを簡単に設定できます。

* 管理者権限を持つユーザとしてInsightにログインします
* [Queries]>[*+New Query]*を選択します
* [検索...]*フィールドのドロップダウンリストで、*[ストレージ]*を選択します。すべてのストレージアレイのリストが表示されます。
* 「* Name * filter」フィールドに「`SVL'」と入力し、をクリックします image:../media/check-box-ok.gif[""] ボタンを押します（またはEnterキーを押します）。クエリ結果リストが更新され、文字列"`SVL`"を含む配列のみが表示されるようになりました。
* フィルタする場合は、[Query]ページのテキストボックスで次の文字を単独で使用するか、組み合わせて使用して検索を絞り込むことができます。
+
** アスタリスクを使用すると、すべての項目を検索できます。たとえば、「vol * rhel」と指定すると、先頭が「vol」で末尾が「rhel」のアセットが表示されます。
** 疑問符を使用すると、特定の数の文字を検索できます。たとえば、「`SVL-PRD??-S12`」をフィルタリングすると、SVL-PRD12-S12、SVL-PRD13-S12などが表示されます。
** OR 演算子を使用すると、複数のエンティティを指定できます。たとえば、「'FAS2240 or CX600 or FAS3270'」と指定すると、複数のストレージモデルが検出されます。


* このデータセンターに関連付けるストレージアレイを選択します。目的のアレイをすべて選択したら、*[Actions]*ボタンをクリックし、*[Edit annotation]*を選択します。
* [アノテーションの追加]*ダイアログで、*[データセンター]*アノテーションを選択します。
* 目的の*値*を選択します（例："`DC1_SVL`"）。
* [ 保存（ Save ） ] をクリックします。
* [Query results]ページに[Data Center]列が表示されない場合は、*[Columns]*ボタンをドロップダウンして*[Data Center]*を選択します。
* 必要に応じて、[Query]ページの右上にある*[Save]*ボタンをクリックし、一意で明示的な名前を指定することで、あとで使用できるようにクエリを保存できます。たとえば、「ストレージアレイ- SVLデータセンター」と入力します。


「SVL」アノテーションを他のアセットに関連付ける場合は、新しいクエリを作成し、アセットタイプごとに次の手順を実行します。

それぞれのデータセンターのアセットについて、上記の手順を繰り返します。
