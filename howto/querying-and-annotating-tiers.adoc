---
permalink: howto/querying-and-annotating-tiers.html 
sidebar: sidebar 
keywords:  
summary: クエリを使用して、環境内の適切なアセットにアノテーションを関連付けます。ここでは、これらの階層を適切なアセットに関連付けます。 
---
= 階層を照会してアノテーションを適用しています
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
クエリを使用して、環境内の適切なアセットにアノテーションを関連付けます。ここでは、これらの階層を適切なアセットに関連付けます。

前の手順で、階層のアノテーションを設定しました。この例では、階層をストレージプールに関連付けます。階層のアノテーションは次のように設定されていると想定します。

|===


| 価値 | 説明 | GBあたりのコスト 


 a| 
ティア1 SSD
 a| 
オールフラッシュアレイ
 a| 
0.5



 a| 
ティア2 SAS
 a| 
（ SAS ）。
 a| 
0.25



 a| 
ティア3 SATA
 a| 
SATA
 a| 
0.1

|===
環境内のすべてのSSDディスクを検索し、「階層1 SSD」アノテーションを関連付けます。

* 管理者権限を持つユーザとしてInsightにログインします
* [Queries]>[*+New Query]*を選択します
* [検索...]*フィールドのドロップダウンリストで、*[ストレージプール]*を選択します。すべてのストレージプールのリストが表示されます。
* [名前]フィールドは今回は役に立たない可能性があるため、別のフィールドを使用してみましょう。[More]*ドロップダウンをクリックし、[Least performing disk type]を選択します。このフィールドには、該当するディスクタイプが表示されます。フィールドに「`SSD'」と入力し、をクリックしますimage:../media/check-box-ok.gif[""] ボタンを押します。クエリ結果のリストには、SSDストレージプールのみが表示されます。
* さらに絞り込むには、* More *ドロップダウンをクリックして追加フィールドを選択します。
* この階層に関連付けるストレージプールを選択します。必要なストレージプールをすべて選択したら、*[操作]*ボタンをクリックし、*[アノテーションの編集]*を選択します。
* [アノテーションの追加]*ダイアログで、*[階層]*アノテーションを選択します。
* リストから目的の*値*を選択します。この例では、「階層1 SSD」を選択します。
* [ 保存（ Save ） ] をクリックします。
* [Query]の結果ページに[Tier]列が表示されない場合は、*[Columns]*ボタンをドロップダウンして*[Tier]*を選択します。アセットに適切なアノテーションが関連付けられていることを確認します。
* [Query]ページの右上にある*[Save]*ボタンをクリックし、一意で明示的な名前を付けてクエリを保存します。たとえば、「ストレージプール-階層1 SSD」と入力します。


「階層1のSSD」というアノテーションを他のアセットに関連付ける場合は、新しいクエリを作成し、アセットタイプごとに次の手順を実行します。

残りの階層のアセットについても、同じ手順を繰り返します。
